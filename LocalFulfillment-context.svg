<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="586px" preserveAspectRatio="none" style="width:627px;height:586px;" version="1.1" viewBox="0 0 627 586" width="627px" zoomAndPan="magnify"><defs/><g><!--MD5=[8fc3522a43f8c7199df5e09e5bb0188e]
entity user--><ellipse cx="351.05" cy="14" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.5;"/><path d="M351.05,22 L351.05,49 M338.05,30 L364.05,30 M351.05,49 L338.05,64 M351.05,49 L364.05,64 " fill="none" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="335.55" y="79.4951">user</text><!--MD5=[1e281070be324fe4119de6bf55ec0dae]
class api--><rect codeLine="10" fill="#FEFECE" height="37.9375" id="api" style="stroke:#A80036;stroke-width:1.5;" width="129" x="286.55" y="159.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="51" x="325.55" y="175.6387">«active»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="123" x="289.55" y="189.6074">api : SmartHomeAPI</text><!--MD5=[d26137e5d461602f48e26353ca7979f6]
class app--><rect codeLine="12" fill="#FEFECE" height="37.9375" id="app" style="stroke:#A80036;stroke-width:1.5;" width="66" x="126.05" y="361.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="51" x="133.55" y="377.6387">«active»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="129.05" y="391.6074">app : App</text><!--MD5=[002537d386d1f68a9aa978f7fb49d1b7]
entity device--><ellipse cx="331.05" cy="513" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.5;"/><path d="M331.05,521 L331.05,548 M318.05,529 L344.05,529 M331.05,548 L318.05,563 M331.05,548 L344.05,563 " fill="none" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="159" x="251.55" y="578.4951">device : LYWSD03MMC</text><!--MD5=[171bbbeb97f5c35b5c0d3208ac28312a]
link user to api--><path codeLine="16" d="M351.05,82.61 C351.05,107.79 351.05,139.65 351.05,159.3 " fill="none" id="user-api" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="356.05,126.0664,358.9889,117.0213,353.1111,117.0213,356.05,126.0664" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="365.05" y="125.5669">query</text><!--MD5=[507397596a6af31457158c510808ed58]
link api to app--><path codeLine="17" d="M286.55,182.04 C216.72,186.31 111.97,197.64 87.05,227.5 C60.85,258.89 69.71,282.47 87.05,319.5 C95.26,337.03 111.4,351.23 126.31,361.41 " fill="none" id="api-app" style="stroke:#FFFFFF;stroke-width:1.0;"/><polygon fill="#000000" points="124.2189,247.2952,132.4366,242.5077,128.0532,238.5918,124.2189,247.2952" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="135.55" y="248.0669">IDENTIFY</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="135.05" y="263.1997">QUERY</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="88.05" y="278.3325">PARSE_NOTIFICATION</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="107.05" y="293.4653">AUTOCONNECT</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="114.05" y="308.5981">DISCONNECT</text><!--MD5=[507397596a6af31457158c510808ed58]
link api to app--><path codeLine="18" d="M305.88,197.68 C291.64,205.19 276.82,215.09 266.05,227.5 C237.27,260.66 255.6,283.79 230.05,319.5 C218.31,335.91 201.11,350.6 186.57,361.33 " fill="none" id="api-app-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="299.4956,232.0262,291.7922,237.6037,296.5418,241.0664,299.4956,232.0262" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="304.55" y="240.5669">identifyResp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="303.05" y="255.6997">queryResp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="295.55" y="270.8325">executeResp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="267.05" y="285.9653">parseNotificationResp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="281.05" y="301.0981">autoconnectResp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="286.55" y="316.231">disconnectResp</text><!--MD5=[f43684c54798c25337a24a79c38f4757]
link app to device--><path codeLine="19" d="M125.82,390.84 C79.93,405.38 6,435.73 36.05,473.5 C62.52,506.76 173.31,525.14 251.3,534.16 " fill="none" id="app-device" style="stroke:#FFFFFF;stroke-width:1.0;"/><polygon fill="#000000" points="78.3436,453.8283,74.5966,445.087,70.1742,448.9589,78.3436,453.8283" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="83.05" y="454.5669">disconnect</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="37.05" y="469.6997">registerForNotifications</text><!--MD5=[f43684c54798c25337a24a79c38f4757]
link app to device--><path codeLine="20" d="M169.45,399.61 C181.38,419.35 202.37,451.09 226.05,473.5 C237.48,484.32 250.86,494.47 264.17,503.46 " fill="none" id="app-device-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="261.6806,446.3722,265.6045,455.0356,269.9473,451.0746,261.6806,446.3722" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="273.05" y="454.5669">disconnectResp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="227.05" y="469.6997">registerForNotificationsResp</text><!--MD5=[6fba299f168211a18ba94b684453832b]
link api to device--><path codeLine="21" d="M383.98,197.63 C394.64,205.32 405.21,215.36 411.05,227.5 C458.41,326.04 456.94,374.26 411.05,473.5 C405.92,484.59 398,494.53 389.1,503.16 " fill="none" id="api-device" style="stroke:#FFFFFF;stroke-width:1.0;"/><polygon fill="#000000" points="450.1338,385.5657,452.9207,376.4726,447.0437,376.5711,450.1338,385.5657" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="459.05" y="385.0669">connect</text><!--MD5=[6fba299f168211a18ba94b684453832b]
link api to device--><path codeLine="22" d="M405.57,197.54 C422.19,204.93 439.61,214.79 453.05,227.5 C516.18,287.19 556.31,333.02 519.05,411.5 C497.6,456.67 451.73,488.87 410.66,509.92 " fill="none" id="api-device-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="545.4685,353.0671,542.6774,362.1588,548.5544,362.0631,545.4685,353.0671" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="553.55" y="362.5669">advertise</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="535.55" y="377.6997">connectResp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="534.05" y="392.8325">disconnected</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="559.05" y="407.9653">notify</text><!--MD5=[c7c5b90e597817ab83edc67cc89d60c2]
@startuml
'left to right direction
skinparam classAttributeIconSize 0
skinparam shadowing false
hide circle
hide empty members
'hide fields
allowmixing
actor "user" as user 

class "api : SmartHomeAPI" as api <<active>> {
}
class "app : App" as app <<active>> {
}
actor "device : LYWSD03MMC" as device 

user - - api : > query
api -[#transparent]- app : > IDENTIFY\nQUERY\nPARSE_NOTIFICATION\nAUTOCONNECT\nDISCONNECT
api - - app : < identifyResp\nqueryResp\nexecuteResp\nparseNotificationResp\nautoconnectResp\ndisconnectResp
app -[#transparent]- device : > disconnect\nregisterForNotifications
app - - device : < disconnectResp\nregisterForNotificationsResp
api -[#transparent]- device : > connect
api - - device : < advertise\nconnectResp\ndisconnected\nnotify
@enduml

@startuml
skinparam classAttributeIconSize 0
skinparam shadowing false
hide circle
hide empty members
allowmixing
actor "user" as user 

class "api : SmartHomeAPI" as api <<active>> {
}
class "app : App" as app <<active>> {
}
actor "device : LYWSD03MMC" as device 

user - - api : > query
api -[#transparent]- app : > IDENTIFY\nQUERY\nPARSE_NOTIFICATION\nAUTOCONNECT\nDISCONNECT
api - - app : < identifyResp\nqueryResp\nexecuteResp\nparseNotificationResp\nautoconnectResp\ndisconnectResp
app -[#transparent]- device : > disconnect\nregisterForNotifications
app - - device : < disconnectResp\nregisterForNotificationsResp
api -[#transparent]- device : > connect
api - - device : < advertise\nconnectResp\ndisconnected\nnotify
@enduml

PlantUML version 1.2020.22(Sun Dec 06 09:36:27 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>